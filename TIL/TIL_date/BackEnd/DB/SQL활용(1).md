# SQL 활용 (1)

​    

## ✍️ SELECT문 절 활용하기

### 1. WHERE

- 특정 조건으로 데이터 조회

```sql
SELECT * FROM <테이블명> WHERE 조건;
```

​    

- WHERE절에서 사용할 수 있는 연산자

1. 비교연산자



2. 논리연산자 : `AND`, `OR`, `NOT`

> 논리 연산자 주의사항

```sql
-- 1. 키가 175이거나, 키가 183이면서 몸무게가 80인 사람
WHERE HEIGHT = 175 OR HEIGHT = 183 AND WEIGHT = 80
-- 2. 키가 175 또는 183인 사람 중에서 몸무게가 80인 사람
WHERE (HEIGHT = 175 OR HEIGHT = 183) AND WEIGHT = 80
```

​    

3. BETWEEN `a` AND `b`

- `a` <= 비교값 <= b

​    

4. IN(`a`, `b`, `c`, ...)

- IN 속 목록중 값이 하나라도 일치할 때

​    

5. LIKE

- 비교 문자열과 형태 일치
- 와일드카드 사용 (`%` : 0개 이상 문자, `_` : 1개 단일 문자)

​    

6. IS NULL / IS NOT NULL

​    

7. 부정연산자

- 같지 않다 (`!=`, `^=`, `<>`)
- ~와 같지 않다 (`NOT 컬럼 = 비교값`)

```sql
WHERE 칼럼명1 != 비교값1 
AND 칼럼명2 ^= 비교값2 
AND 칼럼명3 <> 비교값3 
AND NOT 칼럼명4 = 비교값4 
AND NOT 칼럼명5 > 비교값5; 
```

​    

>  연산자 우선순위

| 순위 | 연산자          |
| ---- | --------------- |
| 1    | 괄호 ()         |
| 2    | NOT             |
| 3    | 비교연산자, SQL |
| 4    | AND❗            |
| 5    | OR❗             |

​    

### 2. 집계함수 (Aggregate Function)

- 값의 집합에 대한 계산을 수행하고 `단일값` 반환 ( = 여러행으로부터 하나의 결과값 반환)
- SELECT 구문에서만 사용가능 ❗

​    

> 집계함수 종류

1. COUNT : 그룹의 항목수
2. AVG : 평균
3. MAX
4. MIN
5. SUM

```sql
SELECT COUNT(컬럼) FROM 테이블이름;
SELECT AVG(컬럼) FROM 테이블이름;
SELECT SUM(컬럼) FROM 테이블이름;
SELECT MIN(컬럼) FROM 테이블이름;
SELECT MAX(컬럼) FROM 테이블이름;
```

​    

### 3. LIKE

- 패턴이 일치하는 데이터를 조회하는 방법

```sql
SELECT * FROM <테이블명> WHERE <컬럼> LIKE '패턴';
```

​    

- SQLite 와일드카드 2가지

  1. `%` (percent sign) : 0개 이상의 문자, ❗자리에 문자열이 있을수도, 없을 수도 있음❗
  2. `_` (underscore) : 임의의 단일 문자,  ❗반드시 이 자리에 한 개의 문자가 존재해야함 ❗


​    

> 패턴 예시

| 패턴           | 의미                                          |
| -------------- | --------------------------------------------- |
| 2%             | 2로 시작하는 값                               |
| %2             | 2로 끝나는 값                                 |
| %2%            | 2가 들어가는 값                               |
| _2%            | 아무 값이 하나 있고 두 번째가 2로 시작하는 값 |
| 1___           | 1로 시작하고 총 4자리인 값                    |
| 2\_%\_% / 2__% | 2로 시작하고 적어도 3자리인 값                |

​    

### 4. ORDER BY

- 조회 결과 집합을 정렬

```sql
SELECT * FROM 테이블이름 ORDER BY 컬럼 ASC;    # ASC  : 오름차순 (default)
SELECT * FROM 테이블이름 ORDER BY 컬럼 DESC;   # DESC : 내림차순
```
