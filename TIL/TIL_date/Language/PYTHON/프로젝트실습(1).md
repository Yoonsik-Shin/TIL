# â“íŒŒì¼ ì…ì¶œë ¥ / JSON í™œìš©

â€‹    

## 0ï¸âƒ£ ê°œì¸í”„ë¡œì íŠ¸ ì§„í–‰

### ì˜¤ëŠ˜ì˜ ëª©í‘œ - ğŸ˜­ íŒŒì¼ ì…ì¶œë ¥ + JSON í™œìš©í•´ë³´ê¸°

* Python ê¸°ë³¸ ë¬¸ë²•(ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸) í™œìš© 
* íŒŒì¼ ì…ì¶œë ¥ì„ í†µí•œ ë°ì´í„° í™œìš©  
* í…ìŠ¤íŠ¸ ë° JSON ë°ì´í„°ì˜ í™œìš©

â€‹    

---

## 1ï¸âƒ£ í”„ë¡œì íŠ¸ ì§„í–‰ì‹œ í•„ìš”ê°œë…

- íŒŒì¼ ì…ì¶œë ¥

```python
# ê¸°ë³¸í˜•ì‹
with open('íŒŒì¼ëª…', 'íŒŒì¼ ì—´ê¸° ëª¨ë“œ', encoding='utf-8') as <ë³„ëª…>
```

â€‹    

> íŒŒì¼ ì—´ê¸° ëª¨ë“œ ì¢…ë¥˜

| íŒŒì¼ ì—´ê¸° ëª¨ë“œ | ì„¤ëª…                                                         |
| -------------- | ------------------------------------------------------------ |
| r              | ì½ê¸° ëª¨ë“œ - íŒŒì¼ì„ ì½ê¸°ë§Œ í•  ë•Œ ì‚¬ìš©                         |
| w              | ì“°ê¸° ëª¨ë“œ - íŒŒì¼ì— ë‚´ìš©ì„ ì“¸ ë•Œ ì‚¬ìš© (ìµœì´ˆë¡œ ì“°ê¸° / ë®ì–´ì“°ê¸°) |
| a              | ì¶”ê°€ ëª¨ë“œ - íŒŒì¼ì˜ ë§ˆì§€ë§‰ì— ìƒˆë¡œìš´ ë‚´ìš©ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš© (ì´ì–´ì“°ê¸°) |

â€‹    

> íŒŒì¼ ì“°ê¸°ëª¨ë“œë¡œ ì—´ì–´ ì¶œë ¥ê°’ ì ê¸°

```python
with open('00.txt', 'w', encoding='utf-8') as f
	f.write('ì•ˆë…•í•˜ì„¸ìš”')
    
# 00.txtíŒŒì¼
>> ì•ˆë…•í•˜ì„¸ìš”
```

â€‹    

> ì™¸ë¶€ì— ì €ì¥ëœ íŒŒì¼ ì½ê¸°

- .readline( )
- .readlines( )
- .read( )

```python
# readline() : í•œì¤„ ì½ê¸°
with open('00.txt', 'r', encoding='utf-8') as f
	line = f.readline()
    print(line)
   
>> ì•ˆë…•í•˜ì„¸ìš”
```

```python
# readline()ì„ í†µí•´ ëª¨ë“  ì¤„ ì½ê¸°
with open('01.txt', 'r', encoding='utf-8') as f
	while True:
        line = f.readline()
        if not line:
            break
         print(line)
        
>> ì•ˆë…•í•˜ì„¸ìš”
>> ë°˜ê°€ì›Œìš”
>> ì•ˆë…•íˆê³„ì„¸ìš”
```

```python
# readlines() : ëª¨ë“ ì¤„ í•œë²ˆì— ë¦¬ìŠ¤íŠ¸í˜•ì‹ìœ¼ë¡œ ì½ì–´ì˜¤ê¸°
with open('01.txt', 'r', encoding='utf-8') as f
	readlines_lst = f.readlines()
    print(readlines_lst)

>> ['ì•ˆë…•í•˜ì„¸ìš”\n', 'ë°˜ê°€ì›Œìš”\n', 'ì•ˆë…•íˆê³„ì„¸ìš”\n']
```

```python
# read() : íŒŒì¼ë‚´ìš© ì „ì²´ë¥¼ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ì½ì–´ì˜¤ê¸°
with open('01.txt', 'r', encoding='utf-8') as f
	read_str = f.read()
    print(f.read())
    
>> 'ì•ˆë…•í•˜ì„¸ìš” ë°˜ê°€ì›Œìš” ì•ˆë…•íˆê³„ì„¸ìš”'
```

â€‹    

---

## 00. í…ìŠ¤íŠ¸ ë°ì´í„° ì¶œë ¥ (ì—°ìŠµ)

- ì•„ë˜ì˜ ë‚´ìš©ì„  `00.txt`ì— ê¸°ë¡í•˜ì‹œì˜¤.

### ê²°ê³¼ ì˜ˆì‹œ

```bash
3íšŒì°¨ ì‹ ìœ¤ì‹
Hello, Python!
1ì¼ì°¨ íŒŒì´ì¬ ê³µë¶€ ì¤‘
2ì¼ì°¨ íŒŒì´ì¬ ê³µë¶€ ì¤‘
3ì¼ì°¨ íŒŒì´ì¬ ê³µë¶€ ì¤‘
4ì¼ì°¨ íŒŒì´ì¬ ê³µë¶€ ì¤‘
5ì¼ì°¨ íŒŒì´ì¬ ê³µë¶€ ì¤‘
```

```python
with open('00.txt', 'w', encoding='utf-8') as f:
    f.write('3íšŒì°¨ ì‹ ìœ¤ì‹\nHello, Python!\n')
    for i in range(1,6):
        f.write(f'{i}ì¼ì°¨ íŒŒì´ì¬ ê³µë¶€ ì¤‘\n')
```

â€‹    

## 01. í…ìŠ¤íŠ¸ ë°ì´í„° ì…ë ¥ (ì—°ìŠµ)

- ê³¼ì¼ ë°ì´í„° `fruits.txt `ë¥¼ í™œìš©í•˜ì—¬ ì´ ê³¼ì¼ì˜ ê°¯ìˆ˜ë¥¼ `01.txt` ì— ê¸°ë¡í•˜ì‹œì˜¤.
  - ê³¼ì¼ì€ í•˜ë‚˜ë‹¹ í•œ ì¤„ì— ê¸°ë¡ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```python
with open('./data/fruits.txt','r',encoding='utf-8') as f:
    fruits = f.read()

with open('01.txt','w',encoding='utf-8') as g:
    fruits_2 = g.write(f'{len(fruits)}')
```

â€‹     

## 02. í…ìŠ¤íŠ¸ ë°ì´í„° í™œìš© - íŠ¹ì • ë‹¨ì–´ ì¶”ì¶œ

- ê³¼ì¼ ë°ì´í„° `fruits.txt`ë¥¼ í™œìš©í•˜ì—¬ `berry`ë¡œ ëë‚˜ëŠ” ê³¼ì¼ì˜ ê°¯ìˆ˜ì™€ ëª©ë¡ì„ `02.txt`ì— ê¸°ë¡í•˜ì‹œì˜¤.
  - ê³¼ì¼ì€ í•˜ë‚˜ë‹¹ í•œ ì¤„ì— ê¸°ë¡ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```python
with open('./data/fruits.txt','r',encoding='utf-8') as f:
    fruits = f.read()      
    fruits_lst = fruits.split('\n')
    ans_lst = []
    
    for i in fruits_lst:
        if i[-5:] == 'berry':
            ans_lst.append(i)
            
    ans = list(set(ans_lst))
    
for j in ans:
    print(j)

with open('02.txt','w',encoding='utf-8') as g:
    answer = g.write(f'{len(ans)}\n')
    for i in range(len(ans)):
        answer = g.write(f'{ans[i]}\n')
```

â€‹    

## 03. í…ìŠ¤íŠ¸ ë°ì´í„° í™œìš© - ë“±ì¥ íšŸìˆ˜

- ê³¼ì¼ ë°ì´í„° `fruits.txt`ë¥¼ í™œìš©í•˜ì—¬ ê³¼ì¼ì˜ ì´ë¦„ê³¼ ë“±ì¥ íšŸìˆ˜ë¥¼  `03.txt` ì— ê¸°ë¡í•˜ì‹œì˜¤.

```python
with open('./data/fruits.txt','r',encoding='utf-8') as f:
    fruits = f.read()
    fruits_lst = fruits.split('\n')
    lst = []
    Dict = {}
    
    for i in fruits_lst:
        if i not in lst:
            lst.append(i)
            
    for k in lst:
        Dict[k] = fruits_lst.count(k)

with open('03.txt','w',encoding='utf-8') as n:
    for i in Dict:
        answer = n.write(f'{i} {Dict[i]}\n')
```

â€‹    

## 04. JSON ë°ì´í„° í™œìš© - ì˜í™” ë‹¨ì¼ ì •ë³´

- ì˜í™” ë°ì´í„° `movie.json` ì„ í™œìš©í•˜ì—¬ í•„ìš”í•œ ì •ë³´ë¡œë§Œ êµ¬ì„±ëœ ë”•ì…”ë„ˆë¦¬ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.
  - ì½”ë“œëŠ” ì„ ì–¸ëœ í•¨ìˆ˜ ë‚´ì— ì‘ì„±í•˜ë©°, ê²°ê³¼ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
  - JSONìœ¼ë¡œ ê°€ì ¸ì˜¨ ë°ì´í„°ê°€ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
- `id`, `title`, `vote_average`, `overview`, `genre_ids`ìœ¼ë¡œ êµ¬ì„±ëœ ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤. 

```python
import json
from pprint import pprint

def movie_info(movie):
 
    Dict={}
    for i in ['genre_ids','id','overview','title','vote_average']:
        Dict[i] = movie[i]
    return Dict
        
if __name__ == '__main__':
    movie_json = open('data/movie.json', encoding='UTF8')
    movie = json.load(movie_json)

    pprint(movie_info(movie))
```

â€‹    

## 05. JSON ë°ì´í„° í™œìš© - ì˜í™” ë‹¨ì¼ ì •ë³´ ì‘ìš©

- ì˜í™” ë°ì´í„° `movie.json`ì™€ `genres.json` ì„  í™œìš©í•˜ì—¬ í•„ìš”í•œ ì •ë³´ë¡œë§Œ êµ¬ì„±ëœ ë”•ì…”ë„ˆë¦¬ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.
  - ì½”ë“œëŠ” ì„ ì–¸ëœ í•¨ìˆ˜ ë‚´ì— ì‘ì„±í•˜ë©°, ê²°ê³¼ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
  - JSONìœ¼ë¡œ ê°€ì ¸ì˜¨ ë°ì´í„°ê°€ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
- `id`, `title`,`vote_average`, `overview`, `genre_names`ë¡œ ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤. 
  - genre_namesëŠ” ê° ì¥ë¥´ ì •ë³´ë¥¼ ê°’ìœ¼ë¡œ ê°€ì§‘ë‹ˆë‹¤.
  - genre_idsë¥¼ ì¥ë¥´ ë²ˆí˜¸ì— ë§ëŠ” name ê°’ìœ¼ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.

```python
import json
from pprint import pprint

def movie_info(movie, genres):
    
    Dict = {}
    lst = []
    
    for k in range(len(genres_list)):
        if genres_list[k]['id'] in movie['genre_ids']:
            lst.append(genres_list[k]['name'])
            
    Dict['genre_names'] = lst
    
    for i in ['id','overview','title','vote_average']:
        Dict[i] = movie[i]
        
    return Dict

if __name__ == '__main__':
    movie_json = open('data/movie.json', encoding='UTF8')
    movie = json.load(movie_json)

    genres_json = open('data/genres.json', encoding='UTF8')
    genres_list = json.load(genres_json)

    pprint(movie_info(movie, genres_list))
```

â€‹    

## 06. JSON ë°ì´í„° í™œìš© - ì˜í™” ë‹¤ì¤‘ ì •ë³´ í™œìš©

- ì˜í™” ë°ì´í„° `movies.json` ì™€ `genres.json` ì„  í™œìš©í•˜ì—¬ í•„ìš”í•œ ì •ë³´ë¡œë§Œ êµ¬ì„±ëœ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.
  - ì½”ë“œëŠ” ì„ ì–¸ëœ í•¨ìˆ˜ ë‚´ì— ì‘ì„±í•˜ë©°, ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
  - JSONìœ¼ë¡œ ê°€ì ¸ì˜¨ ë°ì´í„°ê°€ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
- ì „ì²´ ì˜í™” ì •ë³´ëŠ” í‰ì  ë†’ì€ 20ê°œì˜ ì˜í™” ë°ì´í„°ì…ë‹ˆë‹¤.  
  - ê°œë³„ ì˜í™” ë°ì´í„°ëŠ” `id`, `title`, `vote_average`, `overview`, `genre_names` ë¡œ êµ¬ì„±ëœ ë”•ì…”ë„ˆë¦¬ì…ë‹ˆë‹¤.
    - genre_namesëŠ” ê° ì¥ë¥´ ì •ë³´ë¥¼ ê°’ìœ¼ë¡œ ê°€ì§‘ë‹ˆë‹¤.
    - genre_idsë¥¼ ì¥ë¥´ ë²ˆí˜¸ì— ë§ëŠ” name ê°’ìœ¼ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.

```python
import json
from pprint import pprint

def movie_info(movies, genres):

    ans = []
    
    for j in range(len(movies_list)):
        Dict = {}
        lst = []
        for k in range(len(genres_list)):
            if genres_list[k]['id'] in movies_list[j]['genre_ids']:
                lst.append(genres_list[k]['name'])
                
        Dict['genre_names'] = lst
        
        for i in ['id','overview','title','vote_average']:
            Dict[i] = movies_list[j][i]
         
        ans.append(Dict)
        
    return ans
        
if __name__ == '__main__':
    movies_json = open('data/movies.json', encoding='UTF8')
    movies_list = json.load(movies_json)

    genres_json = open('data/genres.json', encoding='UTF8')
    genres_list = json.load(genres_json)

    pprint(movie_info(movies_list, genres_list))
```

