# â“Request ë¼ì´ë¸ŒëŸ¬ë¦¬

â€‹    

## 0ï¸âƒ£ ê°œì¸í”„ë¡œì íŠ¸ ì§„í–‰

### ì˜¤ëŠ˜ì˜ ëª©í‘œ - ğŸ˜Š API í™œìš©í•˜ê¸°

- Python ê¸°ë³¸ ë¬¸ë²•(ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸) í™œìš©
- Python ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
- APIì™€ JSON ë°ì´í„°ì˜ í™œìš©

â€‹    

---

## 1ï¸âƒ£ í”„ë¡œì íŠ¸ ì§„í–‰ì‹œ í•„ìš”ê°œë…

>  [requests ë¼ì´ë¸ŒëŸ¬ë¦¬ ê³µì‹ì‚¬ì´íŠ¸ ](https://requests.readthedocs.io/en/latest/)    (â—__New__â—)

```python
# API ë¶ˆëŸ¬ì˜¤ê¸° â—â˜‘ï¸âœ…âœï¸
response = requests.get(url)
print(response)

# ë¶ˆëŸ¬ì˜¤ê¸° í˜„í™©
print( response.status_code ) # ì†ì„±
>> 200 ì„±ê³µ
>> 404 ì‹¤íŒ¨

# ì¸ì½”ë”© í™•ì¸
print( response.encoding )    # ì†ì„±
>> 'utf-8'

# json ë¶ˆëŸ¬ì˜¤ê¸° â—â˜‘ï¸âœ…âœï¸
print( response.json() )      # ë©”ì†Œë“œ
```

â€‹    

- ë”•ì…”ë„ˆë¦¬ ê°’ ì¡°íšŒ

```python
dict = {
    'name':'yoon'
    'age':24
}

print(dict.get('age'))
>> 24
```

â€‹    

- pprint (Json ì´ì˜ê²Œ ì¶œë ¥í•˜ê¸°)

```python
from pprint import pprint

pprint()
>>[
    {
        
    }
]
```

â€‹    

---

### 00. API ë¬¸ì„œì™€ requests í™œìš©

- ì•„ë˜ì˜ ë¬¸ì„œë¥¼ í™œìš©í•˜ì—¬ BTC(ë¹„íŠ¸ì½”ì¸)ì˜ KRW(ì›) ì „ì¼ì¢…ê°€ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.
- https://apidocs.bithumb.com/reference/í˜„ì¬ê°€-ì •ë³´-ì¡°íšŒ

```python
import requests   

order_currency = 'BTC'
payment_currency = 'KRW'
url = f'https://api.bithumb.com/public/ticker/{order_currency}_{payment_currency}'

response = requests.get(url)

print(response.json().get('data').get('prev_closing_price'))
```

>  ì ‘ê·¼ë°©ë²•

1. requests ëª¨ë“ˆê³¼ urlì„ í™œìš©í•˜ì—¬ JSONíŒŒì¼ì„ ë°›ì•„ì˜´
2. ë”•ì…”ë„ˆë¦¬ get() ë©”ì†Œë“œë¡œ ì›í•˜ëŠ” ê°’ êµ¬í•˜ê¸°

â€‹    

### 01. ì¸ê¸° ì˜í™” ì¡°íšŒ

- ì¸ê¸° ì˜í™” ëª©ë¡ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
- requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ TMDBì—ì„œ í˜„ì¬ ì¸ê¸° ìˆëŠ” ì˜í™” ëª©ë¡(Get Populations) ë°ì´í„°ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.
- ì‘ë‹µ ë°›ì€ ë°ì´í„° ì˜í™” ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```python
import requests
import os
from pprint import pprint
from dotenv import load_dotenv

load_dotenv()
secret_key = os.environ.get('api_key')  â—€ï¸â—€ï¸â—€ï¸

def popular_count():

    Base_url = 'https://api.themoviedb.org/3'
    path = '/movie/popular'
    params = {
        'api_key':secret_key, â—€ï¸â—€ï¸â—€ï¸
        'language':'ko-KR'
    }
    response = requests.get(Base_url+path, params = params).json().get('results')
    return len(response)

if __name__ == '__main__':
    """
    popular ì˜í™”ëª©ë¡ì˜ ê°œìˆ˜ ë°˜í™˜
    """
    pprint(popular_count())
    # 20
```

>  ì ‘ê·¼ë°©ë²•

1. requests ëª¨ë“ˆê³¼ urlì„ í™œìš©í•˜ì—¬ JSONíŒŒì¼ì„ ë°›ì•„ì˜´
2. ë”•ì…”ë„ˆë¦¬ get() ë©”ì†Œë“œë¡œ ì›í•˜ëŠ” ê°’ êµ¬í•˜ê¸°

â€‹    

### 02. íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ì¸ê¸° ì˜í™” ì¡°íšŒ

- ì¸ê¸° ì˜í™” ëª©ë¡ ì¤‘ í‰ì ì´ 8ì  ì´ìƒì¸ ì˜í™” ëª©ë¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
- requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ TMDBì—ì„œ í˜„ì¬ ì¸ê¸° ìˆëŠ” ì˜í™” ëª©ë¡(Get Populations) ë°ì´í„°ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.
- ì‘ë‹µ ë°›ì€ ë°ì´í„° ì¤‘ í‰ì (`vote_average`)ì´ 8ì  ì´ìƒì¸ ì˜í™” ëª©ë¡ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```py
import requests
import os
from pprint import pprint
from dotenv import load_dotenv

load_dotenv()
secret_key = os.environ.get('api_key')  â—€ï¸â—€ï¸â—€ï¸

def vote_average_movies():

    Base_url = 'https://api.themoviedb.org/3'
    path = '/movie/popular'
    params = {
        'api_key':secret_key, â—€ï¸â—€ï¸â—€ï¸
        'language':'ko-KR'
    }

    response = requests.get(Base_url+path, params = params).json()

    lst = []
    for i in response.get('results'):
        if i.get('vote_average') >= 8:
            lst.append(i)

    return lst
    
if __name__ == '__main__':
    """
    popular ì˜í™”ëª©ë¡ì¤‘ vote_averageê°€ 8 ì´ìƒì¸ ì˜í™”ëª©ë¡ ë°˜í™˜
    (ì£¼ì˜) popular ì˜í™”ëª©ë¡ì˜ ê²½ìš° ì‹œê¸°ì— ë”°ë¼ ì•„ë˜ ì˜ˆì‹œ ì¶œë ¥ê³¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŒ
    """
    pprint(vote_average_movies())
    """
    
    
    [{'adult': False,
      'backdrop_path': '/ocUp7DJBIc8VJgLEw1prcyK1dYv.jpg',
      'genre_ids': [28, 12, 878],
      'id': 634649,
      'original_language': 'en',
      'original_title': 'Spider-Man: No Way Home',
      'overview': 'ë¯¸ìŠ¤í…Œë¦¬ì˜¤ì˜ ê³„ëµìœ¼ë¡œ ì„¸ìƒì— ì •ì²´ê°€ íƒ„ë¡œë‚œ ìŠ¤íŒŒì´ë”ë§¨ í”¼í„° íŒŒì»¤ëŠ” í•˜ë£¨ ì•„ì¹¨ì— í‰ë²”í•œ ì¼ìƒì„ ìƒê²Œ ëœë‹¤. ë¬¸ì œë¥¼ '
                  'í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¥í„° ìŠ¤íŠ¸ë ˆì¸ì§€ë¥¼ ì°¾ì•„ê°€ ë„ì›€ì„ ì²­í•˜ì§€ë§Œ ëœ»í•˜ì§€ ì•Šê²Œ ë©€í‹°ë²„ìŠ¤ê°€ ì—´ë¦¬ë©´ì„œ ê°ê¸° ë‹¤ë¥¸ ì°¨ì›ì˜ '
                  'ë¶ˆì²­ê°ë“¤ì´ ë‚˜íƒ€ë‚œë‹¤. ë‹¥í„° ì˜¥í† í¼ìŠ¤ë¥¼ ë¹„ë¡¯í•´ ìŠ¤íŒŒì´ë”ë§¨ì—ê²Œ ê¹Šì€ ì›í•œì„ ê°€ì§„ ìˆ™ì ë“¤ì˜ ê°•ë ¥í•œ ê³µê²©ì— í”¼í„° íŒŒì»¤ëŠ” '
                  'ì‚¬ìƒ ìµœì•…ì˜ ìœ„ê¸°ë¥¼ ë§ê²Œ ë˜ëŠ”ë°â€¦',
      'popularity': 1842.592,
      'poster_path': '/voddFVdjUoAtfoZZp2RUmuZILDI.jpg',
      'release_date': '2021-12-15',
      'title': 'ìŠ¤íŒŒì´ë”ë§¨: ë…¸ ì›¨ì´ í™ˆ',
      'video': False,
      'vote_average': 8.1,
      'vote_count': 13954},
    ..ìƒëµ..,
    }]
    """
```

>  ì ‘ê·¼ë°©ë²•

1. requests ëª¨ë“ˆê³¼ urlì„ í™œìš©í•˜ì—¬ JSONíŒŒì¼ì„ ë°›ì•„ì˜´
2. ë”•ì…”ë„ˆë¦¬ get() ë©”ì†Œë“œë¡œ ì›í•˜ëŠ” ê°’ êµ¬í•˜ê¸°
3. for ë¬¸ì„ í†µí•´ ë¦¬ìŠ¤íŠ¸ì— ì¡°ê±´ì— ë§ëŠ” ê°’ë“¤ ì¶”ê°€

â€‹    

### 03. íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ì¸ê¸° ì˜í™” ì¡°íšŒ

- ì¸ê¸° ì˜í™” ëª©ë¡ì„ í‰ì ì´ ë†’ì€ ìˆœìœ¼ë¡œ 5ê°œì˜ ì •ë ¬í•˜ì—¬ ì˜í™” ë°ì´í„° ëª©ë¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
- requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ TMDBì—ì„œ í˜„ì¬ ì¸ê¸° ìˆëŠ” ì˜í™” ëª©ë¡(Get Populations) ë°ì´í„°ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.
- ì‘ë‹µ ë°›ì€ ë°ì´í„° ì¤‘ í‰ì (`vote_average`)ì´ ë†’ì€ ì˜í™” 5ê°œì˜ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```python
import requests
import os
from pprint import pprint
from dotenv import load_dotenv

load_dotenv()
secret_key = os.environ.get('api_key')  â—€ï¸â—€ï¸â—€ï¸

def ranking():
    Base_url = 'https://api.themoviedb.org/3'
    path = '/movie/popular'
    lst = []
    params = {
        'api_key':secret_key, â—€ï¸â—€ï¸â—€ï¸
        'language':'ko-KR'
    }
 
    response = requests.get(Base_url+path, params = params).json().get('results')
    response = sorted(response,key=lambda x:x['vote_average'],reverse=True)
    
    for i in range(5):
      lst.append(response[i])

    return lst

if __name__ == '__main__':
    """
    popular ì˜í™”ëª©ë¡ì„ ì •ë ¬í•˜ì—¬ í‰ì ìˆœìœ¼ë¡œ 5ê°œ ì˜í™” ë°˜í™˜
    (ì£¼ì˜) popular ì˜í™”ëª©ë¡ì˜ ê²½ìš° ì‹œê¸°ì— ë”°ë¼ ì•„ë˜ ì˜ˆì‹œ ì¶œë ¥ê³¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŒ
    """
    pprint(ranking())
    """
    [{'adult': False,
      'backdrop_path': '/odJ4hx6g6vBt4lBWKFD1tI8WS4x.jpg',
      'genre_ids': [28, 18],
      'id': 361743,
      'original_language': 'en',
      'original_title': 'Top Gun: Maverick',
      'overview': 'ìµœê³ ì˜ íŒŒì¼ëŸ¿ì´ì ì „ì„¤ì ì¸ ì¸ë¬¼ ë§¤ë²„ë¦­ì€ ìì‹ ì´ ì¡¸ì—…í•œ í›ˆë ¨í•™êµ êµê´€ìœ¼ë¡œ ë°œíƒëœë‹¤. ê·¸ì˜ ëª…ì„±ì„ ëª¨ë¥´ë˜ íŒ€ì›ë“¤ì€ '
                  'ë§¤ë²„ë¦­ì˜ ì§€ì‹œë¥¼ ë¬´ì‹œí•˜ì§€ë§Œ ì‹¤ì „ì„ ë°©ë¶ˆì¼€ í•˜ëŠ” ìƒê³µ í›ˆë ¨ì—ì„œ ëˆˆìœ¼ë¡œ ë´ë„ ë¯¿ê¸° í˜ë“  ì „ì„¤ì ì¸ ì¡°ì¢… ì‹¤ë ¥ì— ëª¨ë‘ê°€ '
                  'ì••ë„ëœë‹¤. ë§¤ë²„ë¦­ì˜ ì§€íœ˜ ì•„ë˜ ê²¬ê³ í•œ íŒ€ì›Œí¬ë¥¼ ìŒ“ì•„ê°€ë˜ íŒ€ì›ë“¤ì—ê²Œ êµ­ê²½ì„ ë›°ì–´ë„˜ëŠ” ìœ„í—˜í•œ ì„ë¬´ê°€ ì£¼ì–´ì§€ì ë§¤ë²„ë¦­ì€ '
                  'ìì‹ ì´ ê°€ë¥´ì¹œ ë™ë£Œë“¤ê³¼ í•¨ê»˜ ë§ˆì§€ë§‰ì´ ë ì§€ ëª¨ë¥¼ í•˜ëŠ˜ ìœ„ ë¹„í–‰ì— ë‚˜ì„œëŠ”ë°â€¦',
      'popularity': 911.817,
      'poster_path': '/jMLiTgCo0vXJuwMzZGoNOUPfuj7.jpg',
      'release_date': '2022-06-22',
      'title': 'íƒ‘ê±´: ë§¤ë²„ë¦­',
      'video': False,
      'vote_average': 8.4,
      'vote_count': 1463},
    ..ìƒëµ..,
    }]
    """
```

>  ì ‘ê·¼ë°©ë²•

1. requests ëª¨ë“ˆê³¼ urlì„ í™œìš©í•˜ì—¬ JSONíŒŒì¼ì„ ë°›ì•„ì˜´
2. ë”•ì…”ë„ˆë¦¬ get() ë©”ì†Œë“œë¡œ ì›í•˜ëŠ” ê°’ êµ¬í•˜ê¸°
3. sorted() í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì¸ keyì™€ reverse ê°’ì„ ì´ìš©í•˜ì—¬ ì ìˆ˜ ë†’ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬
4. ì ìˆ˜ ë†’ì€ 5ê°œë§Œ forë¬¸ì„ ì´ìš©í•˜ì—¬ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•œ í›„ ì¶œë ¥

â€‹    

### 04. ì˜í™” ì¡°íšŒ ë° ì¶”ì²œ ì˜í™” ì¡°íšŒ

- ì˜í™” ì œëª©ìœ¼ë¡œ ê²€ìƒ‰ì„ í•˜ì—¬ ì¶”ì²œ ì˜í™” ëª©ë¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
- requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ TMDBì—ì„œ ì˜í™”ì œëª©ìœ¼ë¡œ ì˜í™”ë¥¼ ê²€ìƒ‰(Search Movies)í•©ë‹ˆë‹¤.
- ì‘ë‹µ ë°›ì€ ê²°ê³¼ ì¤‘ ì²«ë²ˆì§¸ ì˜í™”ì˜ id ê°’ì„ í™œìš©í•˜ì—¬ TMDBì—ì„œ ì¶”ì²œ ì˜í™” ëª©ë¡(Get Recommendations)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
- ì¶”ì²œ ì˜í™” ëª©ë¡ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```python
import requests
import os
from pprint import pprint
from dotenv import load_dotenv

load_dotenv()
secret_key = os.environ.get('api_key')  â—€ï¸â—€ï¸â—€ï¸

def recommendation(title):
    try:
        # ì˜í™” ë²ˆí˜¸ ë¶ˆëŸ¬ì˜¤ê¸°
        Base_url = 'https://api.themoviedb.org/3'
        path_1 = '/search/movie'
        url_1 = Base_url+path_1
        params_1 = {
            'api_key':secret_key,  â—€ï¸â—€ï¸â—€ï¸
            'language':'ko-KR',
            'query':title
        }
        movie_id = requests.get(url_1, params = params_1).json().get('results')[0].get('id')

        # ì˜í™” ì¶”ì²œëª©ë¡ ê°€ì ¸ì˜¤ê¸°
        url_2 = f'https://api.themoviedb.org/3/movie/{movie_id}/recommendations'
        params_2 = {
            'api_key':secret_key,
            'language':'ko-KR',
        }
        response = requests.get(url_2, params = params_2).json().get('results')
        lst = []
        for i in response:
            lst.append(i.get('title'))

        return lst
    
    except:
        return None
# ì•„ë˜ì˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
if __name__ == '__main__':
    """
    ì œëª©ì— í•´ë‹¹í•˜ëŠ” ì˜í™”ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì˜í™”ì˜ idë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì²œ ì˜í™” ëª©ë¡ êµ¬ì„±
    ì¶”ì²œ ì˜í™”ê°€ ì—†ì„ ê²½ìš° []ë¥¼ ë°˜í™˜
    ì˜í™” id ê²€ìƒ‰ì— ì‹¤íŒ¨í•  ê²½ìš° Noneì„ ë°˜í™˜
    (ì£¼ì˜) ì¶”ì²œ ì˜í™”ì˜ ê²½ìš° ì•„ë˜ ì˜ˆì‹œ ì¶œë ¥ê³¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŒ
    """
    pprint(recommendation('ê¸°ìƒì¶©'))
    # ['ì¡°ì»¤', '1917', 'ì¡°ì¡° ë˜ë¹—', ..ìƒëµ.., 'ì‚´ì¸ì˜ ì¶”ì–µ', 'í„í”„ í”½ì…˜']
    pprint(recommendation('ê·¸ë˜ë¹„í‹°'))
    # []
    pprint(recommendation('ê²€ìƒ‰í•  ìˆ˜ ì—†ëŠ” ì˜í™”'))
    # None
```

>  ì ‘ê·¼ë°©ë²•

1. requests ëª¨ë“ˆê³¼ urlì„ í™œìš©í•˜ì—¬ JSONíŒŒì¼ì„ ë°›ì•„ì˜´
2. ë”•ì…”ë„ˆë¦¬ get() ë©”ì†Œë“œë¡œ ì›í•˜ëŠ” ê°’ êµ¬í•˜ê¸°
3. ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ë¶€ë¶„ try-exceptë¬¸ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ê¸°

â€‹    

### 05. ì¶œì—°ì§„ ë° ì—°ì¶œì§„ ë°ì´í„° ì¡°íšŒ

- ì œê³µëœ ì˜í™” ì œëª©ì„ ê²€ìƒ‰í•˜ì—¬ í•´ë‹¹ ì˜í™”ì˜ ì¶œì—°ì§„(`cast`) ê·¸ë¦¬ê³  ìŠ¤íƒœí”„(`crew`) ì¤‘ ì—°ì¶œì§„ìœ¼ë¡œ êµ¬ì„±ëœ ëª©ë¡ë§Œì„ ì¶œë ¥í•©ë‹ˆë‹¤.
- requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ TMDBì—ì„œ ì˜í™”ì œëª©ìœ¼ë¡œ ì˜í™”ë¥¼ ê²€ìƒ‰(Search Movies)í•©ë‹ˆë‹¤.
- ì‘ë‹µ ë°›ì€ ê²°ê³¼ ì¤‘ ì²«ë²ˆì§¸ ì˜í™”ì˜ id ê°’ì„ í™œìš©í•˜ì—¬ TMDBì—ì„œ í•´ë‹¹ ì˜í™”ì— ëŒ€í•œ ì¶œì—°ì§„ê³¼ ìŠ¤íƒœí”„ ëª©ë¡(Get Credits)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
- ì¶œì—°ì§„ ì¤‘ `cast_id` ê°’ì´ `10 ë¯¸ë§Œ`ì¸ ì¶œì—°ì§„ë§Œ ì¶”ì¶œí•˜ê³ , ì—°ì¶œì§„ì€ ë¶€ì„œ(`department`)ê°€ `Directing` ì¸ ë°ì´í„°ë§Œ ì¶”ì¶œí•©ë‹ˆë‹¤.
- `cast` ì™€ `directing` ìœ¼ë¡œ êµ¬ì„±ëœ ë”•ì…”ë„ˆë¦¬ì— ì¶”ì¶œëœ ê°’ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```python
import requests
import os
from pprint import pprint
from dotenv import load_dotenv

load_dotenv()
secret_key = os.environ.get('api_key')  â—€ï¸â—€ï¸â—€ï¸

def credits(title):
    try:
        # ì˜í™” idê°’ ê°€ì ¸ì˜¤ê¸°
        Base_url = 'https://api.themoviedb.org/3'
        path_1 = '/search/movie'
        url_1 = Base_url+path_1
        params_1 = {
            'api_key':secret_key,
            'language':'ko-KR',
            'query':title
        }
        movie_id = requests.get(url_1, params = params_1).json().get('results')[0].get('id')

        url_2 = f'https://api.themoviedb.org/3/movie/{movie_id}/credits'
        params_2 = {
            'api_key':secret_key,
            'language':'ko-KR',
        }

        lst_case = []
        response_cast = requests.get(url_2, params = params_2).json().get('cast')
        for i in response_cast:
            if i.get('cast_id') < 10:
                lst_case.append(i.get('name'))

        lst_crew = []
        response_crew = requests.get(url_2, params = params_2).json().get('crew')
        for j in response_crew:
            if j.get('department') == 'Directing':
                lst_crew.append(j.get('name'))

        ans_dict = {
            "cast":lst_case,
            "crew":lst_crew
        }

        return ans_dict
    
    except:
        return None

if __name__ == '__main__':
    """
    ì œëª©ì— í•´ë‹¹í•˜ëŠ” ì˜í™”ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì˜í™” idë¥¼ í†µí•´ ì˜í™” ìƒì„¸ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì£¼ì—°ë°°ìš° ëª©ë¡(cast)ê³¼ ìŠ¤íƒœí”„(crew) ì¤‘ ì—°ì¶œì§„ ëª©ë¡ì„ ë°˜í™˜
    ì˜í™” id ê²€ìƒ‰ì— ì‹¤íŒ¨í•  ê²½ìš° Noneì„ ë°˜í™˜
    """
    pprint(credits('ê¸°ìƒì¶©'))
    # {'cast': ['Song Kang-ho', 'Lee Sun-kyun', ..., 'Jang Hye-jin'], 'crew': ['Bong Joon-ho', 'Park Hyun-cheol', ..., 'Yoon Young-woo']}
    pprint(credits('ê²€ìƒ‰í•  ìˆ˜ ì—†ëŠ” ì˜í™”'))
    # None
```

>  ì ‘ê·¼ë°©ë²•

1. requests ëª¨ë“ˆê³¼ urlì„ í™œìš©í•˜ì—¬ JSONíŒŒì¼ì„ ë°›ì•„ì˜´
2. ë”•ì…”ë„ˆë¦¬ get() ë©”ì†Œë“œë¡œ ì›í•˜ëŠ” ê°’ êµ¬í•˜ê¸°
3. forë¬¸ì„ ì´ìš©í•´ ì¡°ê±´ì— ë§ëŠ” ì‹ë“¤ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ì£¼ê¸°
4. ë”•ì…”ë„ˆë¦¬ì— ì¡°ê±´ì— ë§ê²Œ ê°’ ì¶”ê°€
5. ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ë¶€ë¶„ try-exceptë¬¸ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ê¸°

â€‹    

---

## 2ï¸âƒ£ íŒŒì´ì¬ ë§ˆë¬´ë¦¬ í€´ì¦ˆ ì˜¤ë‹µë…¸íŠ¸

![image-20220722171110681](í”„ë¡œì íŠ¸ì‹¤ìŠµ(2).assets/image-20220722171110681.png)

ğŸ˜­ ë†“íŒ ë¶€ë¶„

- mapí•¨ìˆ˜ì˜ ì •ì˜
- ë‘ë²ˆì§¸ ì¸ìê°€ ë°˜ë³µ ê°€ëŠ¥í•œ ê²ƒì¸ ê²ƒì„ ê¹œë¹¡í–ˆë‹¤...

```python
# mapí•¨ìˆ˜
map(í•¨ìˆ˜, ë°˜ë³µê°€ëŠ¥í•œê²ƒ)
ë°˜ë³µ ê°€ëŠ¥í•œ ê²ƒë“¤ì˜ ëª¨ë“  ìš”ì†Œì— í•¨ìˆ˜ë¥¼ ì ìš©ì‹œí‚¨ ê²°ê³¼ë¥¼ map objectë¡œ ë°˜í™˜í•œë‹¤.
```

